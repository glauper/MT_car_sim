[{"role": "user", "content": "\nYou are a helpful assistant in charge of controlling an autonomous car that move in two dimensional space.\nThe user will give you a description of the situation where you are and a direction where want to go. With these information you have to formulate a plan such that the car can navigate to the goal without collision with obstacles and other agents of the road.\nBefore the description, two list are given. \nOne is called `objects` and collects all the name of the waypoints that can be use as targets in the instructions for the car you have to control. You MUST use only this targets waypoint in the instructions, other waypoints are not available.\nThe other is called `agents` and collects all the name of the agents that are present in the cross.\nAfter each task the user will ask you to replan and will give you a more recent description of the situation.\n\nYou can control the car in the following way:\n    (1) Instructions in natural language to move the car.\n    (2) brakes()\n\nRules:\n    (1) Respect the road rules (priority, stop,...)\n    (2) In general as waypoints there are a 'entry', a 'exit' and a 'final_target'. The first plan should go through these waypoints in this order.\n    (3) If you have to replan and you are at a distance of less then 1 m from one of the waypoints, if the priority permit that, you can start the new plan direct with the next waypoint. For example if you are at a distance of 0.1 m from the entry, you can start the new plan with a task containing the exit object.\n    (4) If possible, when you are doing a replan, do not go back with the order of the waypoints, for example if in a previous plan you have gone to the exit, is better to not go back to the entry.\n    (5) If you have to give priority to another agents, you have to give the instruction to wait this agents to pass, for example \"brakes() and wait agents 0 to pass\".\n    (6) If an agent is leaving the cross, it should not be considered for the priorities.\n    (7) If you want to instruct the car to move, you MUST always specify also the maximum speed.\n    (8) If you want to instruct the car to move DO NOT specify constraints on the agents, someone else will take car of that. You have to consider the agents only to understand if you can go to your target or wait.\n    (9) If you are coming to the cross and there is an other car, which is going to his exit, you MUST choose to move to your exit only if you will not interfere with his trajectory. \n    (10) If a car is going to his exit before you, try to understand from previous descriptions if this car is going to his exit before you because it have priority over you. In this case you should wait that this car pass.\n    (11) If an agent is less then 3m away from you, you MUST brakes() and wait that this agent to pass as first task.\n\nThe description of the situation will give you this list of information about the other agents:\n    (1) The type of vehicle\n    (2) From which entrance of the cross it is coming, to which exit of the cross it is going or if is going away from the cross\n    (3) The velocity in m/s\n    (4) The distance from you in m\n    (5) The direction of the agent with respect to your orientation\n\nYou MUST always respond with a json following this format:\n{\n    \"tasks\": [\"task1\", \"task2\", \"task3\", ...]\n}\n\nHere are some general examples:\n\nobjects = ['entry', 'exit', 'final_target']\nagents = ['0', '1']\n# Description: You are approaching a road cross with four entrances and four exits. There are no special road signs, so the right hand rule applies. \nYou are coming in the cross from one of the entrances, where the maximum permitted speed is 2 m/s.\nThe entry in the cross of your lane is 2 m away and you are moving with a velocity of 2 m/s. The other three entries to the cross are around 12 m away from your entry.\nThere are other 2 agents moving in the region of the road cross.\nInformation for agent 0:\n    (1) is a standard car\n    (2) is going to the right exit of the cross with respect to you\n    (3) is 6 m away from you\n    (4) has a velocity of 2 m/s\n    (5) has a direction of 90 degrees counterclockwise with respect to your orientation \nInformation for agent 1:\n    (1) is a standard car\n    (2) is coming from the left entrance of the cross with respect to you\n    (3) is 10 m away from you\n    (4) has a velocity of 2 m/s\n    (5) has a direction of 90 degrees clockwise with respect to your orientation \n# Query: go to the exit on your left\n{\n    \"tasks\": [\"go to the entry, the maximum speed is 2 m/s\", \"brakes() and wait agent 0 to pass\" ,\"go the exits on the left, the maximum speed is 2 m/s\", \"go to final_target, the maximum speed is 2 m/s\"]\n}\n\nobjects = ['entry', 'exit', 'final_target']\nagents = ['0', '1']\n# Description: You are approaching a road cross with four entrances and four exits. There are no special road signs, so the right hand rule applies. \nYou are coming in the cross from one of the entrances, where the maximum permitted speed is 2 m/s.\nThe entry in the cross of your lane is 0.5 m away and you are moving with a velocity of 2 m/s. The other three entries to the cross are around 12 m away from your entry.\nThere are other 2 agents moving in the region of the road cross.\nInformation for agent 0:\n    (1) is a standard car\n    (2) is going away from the cross\n    (3) is 13 m away from you\n    (4) has a velocity of 2 m/s\n    (5) has a direction of 90 degrees counterclockwise with respect to your orientation \nInformation for agent 1:\n    (1) is a standard car\n    (2) is coming from the right entrance of the cross with respect to you\n    (3) is 10 m away from you\n    (4) has a velocity of 2 m/s\n    (5) has a direction of 90 degrees counterclockwise with respect to your orientation \n# Query: go to the exit on your right\n{\n    \"tasks\": [\"brakes() and wait agent 1 to pass\", \"go to the exit on the right, the maximum speed is 2 m/s\", \"go to final_target, the maximum speed is 2 m/s\"]\n}\n        \nobjects = ['entry', 'exit', 'final_target']\nagents = ['0']\nDescription: You are approaching a road cross with four entrances and four exits. There are no special road signs, so the right hand rule applies. \nYou are coming in the cross from one of the entrances, where the maximum permitted speed is 2 m/s.\nThe entry in the cross of your lane is 15.0 m away and you are moving with a velocity of 0.0 m/s. The other three entries to the cross are around 12 m away from your entry.\nThere are other 1 agents moving in the region of the road cross.\n        \nInformation for agent 0:\n    (1) is a emergency car with SIRENS ON, you have to leave the space to this vehicle\n    (2) is coming from the left entrance of the cross with respect to you\n    (3) is 31.4 m away from you\n    (4) has a velocity of 1.6 m/s\n    (5) has a direction of 90.0 degrees clockwise with respect to your orientation\n        Query: go straight to the exit in front of you"}, {"role": "assistant", "content": "{'tasks': ['go to the entry, the maximum speed is 2 m/s', 'brakes() and wait agent 0 to pass', 'go to the exit in front of you, the maximum speed is 2 m/s', 'go to final_target, the maximum speed is 2 m/s']}"}, {"role": "user", "content": "You have to replan because the task 'go to the entry, the maximum speed is 2 m/s' is finished. In the next the description of the actual situation.\n        \nobjects = ['entry', 'exit', 'final_target']\nagents = ['0']\nDescription: You are approaching a road cross with four entrances and four exits. There are no special road signs, so the right hand rule applies. \nYou are coming in the cross from one of the entrances, where the maximum permitted speed is 2 m/s.\nThe entry in the cross of your lane is 0.9 m away and you are moving with a velocity of 0.8 m/s. The other three entries to the cross are around 12 m away from your entry.\nThere are other 1 agents moving in the region of the road cross.\n        \nInformation for agent 0:\n    (1) is a emergency car with SIRENS ON, you have to leave the space to this vehicle\n    (2) is going to the exit of the cross in front of you\n    (3) is 11.8 m away from you\n    (4) has a velocity of 2.0 m/s\n    (5) has a direction of 71.2 degrees clockwise with respect to your orientation\n        Query: go straight to the exit in front of you"}, {"role": "assistant", "content": "{'tasks': ['brakes() and wait agent 0 to pass', 'go to the exit in front of you, the maximum speed is 2 m/s', 'go to final_target, the maximum speed is 2 m/s']}"}, {"role": "user", "content": "You have to replan because the task 'brakes() and wait agent 0 to pass' is finished. In the next the description of the actual situation.\n        \nobjects = ['entry', 'exit', 'final_target']\nagents = ['0']\nDescription: You are inside a road cross with four entrances and four exits, therefore you can assumed you have already respected the priority and now you have to go to your exit, avoiding collision with other agents. The maximum permitted speed is 2 m/s.\nThe exit in the cross of your lane is 13.2 m away. You are moving with a velocity of 0.0 m/s.\nThere are other 1 agents moving in the region of the road cross.\n        \nInformation for agent 0:\n    (1) is a emergency car with SIRENS ON, you have to leave the space to this vehicle\n    (2) is going to the exit of the cross in front of you\n    (3) is 13.3 m away from you\n    (4) has a velocity of 1.5 m/s\n    (5) has a direction of 48.3 degrees clockwise with respect to your orientation\n        Query: go straight to the exit in front of you"}, {"role": "assistant", "content": "{'tasks': ['go to the exit in front of you, the maximum speed is 2 m/s', 'go to final_target, the maximum speed is 2 m/s']}"}]